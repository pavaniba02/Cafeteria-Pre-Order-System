<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amity University Cafeteria</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #f39c12;
            --accent-color: #e67e22;
            --light-bg: #f8f9fa;
            --dark-text: #2c3e50;
            --light-text: #ecf0f1;
            --card-bg: #ffffff;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-medium: rgba(0, 0, 0, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--light-bg);
            min-height: 100vh;
            color: var(--dark-text);
            line-height: 1.6;
        }        header {
            background: var(--primary-color); /* Match footer color */
            padding: 2rem;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            justify-content: space-between;
            padding: 0 2rem;
            position: relative;
        }
        .amity-logo {
            height: 140px;
            width: 140px;
            margin-right: 0;
            margin-left: 0;
            object-fit: cover;
            border: none;
            padding: 0;
            background: none;
            box-shadow: none;
            filter: none;
            mix-blend-mode: normal;
            opacity: 1;
            position: relative;
            z-index: 2;
        }
        .amity-logo-fire-wrapper {
            border: none !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            background: none !important;
            width: auto;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        .amity-logo-fire {
            display: none !important;
        }
        .amity-logo {
            display: block;
            width: 140px;
            height: 140px;
            border-radius: 18px;
            border: none;
            box-shadow: none;
            margin: 0;
            background: none;
            object-fit: cover;
        }
        .header-titles {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: 60%;
            z-index: 2;
        }
        .uni-title {
            font-family: Arial, 'Poppins', 'Inter', 'Segoe UI', sans-serif;
            color: #f7b731 !important;
            font-size: 2.7rem;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 0.2rem;
            /* Removed sparkling effect */
            /* text-shadow: 2px 2px 8px #2228, 0 2px 10px #fff8; */
        }
        .system-title {
            font-family: Arial, 'Inter', 'Poppins', 'Segoe UI', sans-serif;
            color: #fff !important;
            font-size: 1.5rem;
            font-weight: 600;
            letter-spacing: 1.5px;
            opacity: 1;
            text-shadow: 1px 1px 6px #1976d288;
        }
        .about-cafe-btn {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            background: #f7b731 !important;
            color: #1976d2 !important;
            border: none !important;
            font-weight: 600;
            box-shadow: none !important;
            transition: none !important;
            padding: 0.6rem 1.2rem;
            font-size: 1rem;
            border-radius: 8px;
        }
        .about-cafe-btn:hover {
            background: #f7b731 !important;
            color: #1976d2 !important;
            border: none !important;
        }
        /* Rest of your CSS remains the same */
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow-y: auto;
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            position: relative;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .close {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 1.8rem;
            color: #666;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--dark-text);
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .submit-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #2ecc71;
            color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .notification.error {
            background-color: #e74c3c;
        }

        /* Main Content */
        main {
            padding: 2.5rem 1rem;
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 20px var(--shadow-light);
            position: relative;
        }

        .welcome-section h2 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 2rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        .welcome-section p {
            font-size: 1.1rem;
            color: #6c757d;
            max-width: 700px;
            margin: 0 auto;
            margin-bottom: 1.5rem;
        }

        .login-buttons {
            display: flex;
            justify-content: center;
            gap: 1.2rem;
            margin-top: 2rem;
        }

        .login-btn {
            padding: 12px 35px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            color: white;
        }

        .student-btn {
            background-color: var(--secondary-color);
        }

        .admin-btn {
            background-color: var(--primary-color);
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .student-btn:hover {
            background-color: var(--accent-color);
        }

        .admin-btn:hover {
            background-color: #34495e;
        }

        .logout-btn {
            display: block;
            margin: 1rem auto 0;
            padding: 8px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background-color: #34495e;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        /* Menu Cards */
        .menu-grid {
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
            position: relative;
            z-index: 1;
        }

        .menu-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 6px 25px var(--shadow-light);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            border: 1px solid #e9ecef;
        }

        .menu-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 35px var(--shadow-medium);
            text-decoration: none;
            color: inherit;
        }

        .card-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .card-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,0,0,0.3), rgba(0,0,0,0.1));
        }

        .card-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: white;
            z-index: 2;
        }

        .card-content {
            padding: 1.8rem;
        }

        .card-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-description {
            color: #6c757d;
            font-size: 0.95rem;
            margin-bottom: 1.2rem;
            line-height: 1.6;
        }

        .card-time {
            display: inline-block;
            background: #f8f9fa;
            color: var(--primary-color);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid #e9ecef;
        }

        /* Individual card styles */
        .breakfast-card .card-image {
            background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('coffee and rusk.jpeg');
            background-size: cover;
            background-position: center;
        }
        
        .lunch-card .card-image {
            background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('Paneer butter masala.jpeg');
            background-size: cover;
            background-position: center;
        }

        .snacks-card .card-image {
            background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('Dhai puri.jpeg');
            background-size: cover;
            background-position: center;
        }

        /* Accent colors for cards */
        .breakfast-card:hover .card-title {
            color: #f39c12;
        }

        .lunch-card:hover .card-title {
            color: #e74c3c;
        }

        .snacks-card:hover .card-title {
            color: #3498db;
        }

        /* Footer */
        footer {
            background: var(--primary-color);
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
            position: relative;
            z-index: 1;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .social-links a {
            color: var(--secondary-color);
            font-size: 1.5rem;
            transition: all 0.3s ease;
            padding: 0.5rem;
        }

        .social-links a:hover {
            color: var(--light-text);
            transform: translateY(-2px);
        }

        .footer-text {
            color: var(--light-text);
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        /* About Modal Styles */
        .about-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow-y: auto;
        }

        .about-modal-content {
            background-color: var(--card-bg);
            margin: 5% auto;
            padding: 2.5rem;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            position: relative;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .about-modal-content h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-family: 'Poppins', sans-serif;
            text-align: center;
        }

        .about-section {
            margin-bottom: 2rem;
            padding: 1rem;
            border-radius: 8px;
            background-color: #f8f9fa;
        }

        .about-section h3 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            font-family: 'Poppins', sans-serif;
        }

        .about-section p {
            color: #6c757d;
            line-height: 1.8;
            margin-bottom: 1rem;
        }        @media (max-width: 768px) {
            .header-titles {
                width: 80%;
            }
            .amity-logo {
                width: 140px;
                height: 140px;
            }
        }
        @media (max-width: 480px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                padding: 1rem 0.5rem;
            }
            .header-titles {
                position: static;
                transform: none;
                width: 100%;
                margin: 0.5rem 0 0.5rem 0;
                text-align: center;
            }
            .about-cafe-btn {
                position: static;
                transform: none;
                margin: 0.5rem 0 0 0;
                width: 100%;
            }
            .amity-logo {
                width: 100px;
                height: 100px;
            }
        }
        @media (max-width: 700px) {
  .header-content {
    flex-direction: column;
    align-items: center;
    padding: 1.2rem 0.5rem !important;
    gap: 0.7rem;
  }
  .amity-logo {
    width: 90px !important;
    height: 90px !important;
    margin: 0 auto 0.5rem auto !important;
    display: block;
  }
  .header-titles {
    position: static !important;
    transform: none !important;
    width: 100% !important;
    margin: 0.2rem 0 0.2rem 0 !important;
    text-align: center !important;
    z-index: 1;
  }
  .uni-title {
    font-size: 1.3rem !important;
    margin-bottom: 0.1rem !important;
    letter-spacing: 1px !important;
  }
  .system-title {
    font-size: 1rem !important;
    margin-bottom: 0.2rem !important;
  }
  .header-actions {
    flex-direction: row !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    gap: 0.7rem !important;
    position: static !important;
    margin: 0.2rem 0 0.2rem 0 !important;
  }
  .header-profile {
    margin-bottom: 0 !important;
    margin-right: 0.5rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .profile-icon-btn, #profileAvatarImg {
    width: 48px !important;
    height: 48px !important;
  }
  .about-cafe-btn {
    font-size: 0.98rem !important;
    padding: 0.5rem 0.8rem !important;
    width: auto !important;
    margin: 0 !important;
  }
}
        /* 1. About Cafeteria Modal Title in Blue */
        #aboutCafeModal h2 {
            color: var(--primary-color) !important;
            text-shadow: 1px 1px 8px #fff8, 0 2px 10px #1976d288;
        }

        /* 2. Add white border to fire logo */
        .amity-logo-fire-wrapper {
            border: 4px solid #fff;
            border-radius: 50%;
            box-shadow: 0 0 0 4px #fff, 0 4px 24px #0002;
            background: none;
        }

        /* 3. Cafeteria button: white background, blue text, mustard border, bold, white shadow */
        .about-cafe-btn {
            background: #fff !important;
            color: var(--primary-color) !important;
            border: 2px solid #f7b731 !important;
            font-weight: 700;
            box-shadow: 0 2px 12px #fff6;
        }
        .about-cafe-btn:hover {
            background: #f7b731 !important;
            color: #2c3e50 !important;
            border-color: #f7b731 !important;
        }

        .header-actions {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            position: absolute;
            right: 2.5rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            gap: 1.2rem;
        }
        .header-profile {
            position: static;
            margin-bottom: 0.3rem;
        }
        .about-cafe-btn {
            position: static;
            margin-top: 0;
            margin-bottom: 0;
            width: auto;
        }
        @media (max-width: 600px) {
            .header-actions {
                right: 1rem;
                gap: 0.4rem;
            }
        }

        /* Profile Dropdown */
        .profile-dropdown {
            display: none;
            position: absolute;
            top: 120%;
            right: 0;
            min-width: 270px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 6px 24px #0002;
            padding: 1.5rem 1.5rem 1.2rem 1.5rem;
            z-index: 100;
            font-size: 1rem;
            color: #222;
            font-family: 'Inter', 'Poppins', Arial, sans-serif;
            align-items: center;
            min-width: 320px;
            padding-top: 2.2rem;
        }
        .profile-title {
            font-size: 2rem !important;
            font-family: 'Poppins', Arial, sans-serif !important;
            font-weight: 700;
            color: #1976d2;
            margin-bottom: 1.2rem;
            text-align: center;
            letter-spacing: 0.5px;
        }
        .profile-detail-row {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            gap: 0.5rem;
        }
        .profile-label {
            min-width: 110px;
            color: #888;
            font-weight: 500;
            font-size: 0.98rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        .profile-value {
            color: #222;
            font-weight: 500;
            font-size: 1rem;
            word-break: break-all;
        }
        .profile-logout-btn {
            margin-top: 1.1rem;
            width: 100%;
            background: #f7b731;
            color: #1976d2;
            border: none;
            border-radius: 8px;
            padding: 0.7rem 0;
            font-weight: 700;
            font-size: 1.05rem;
            cursor: pointer;
            transition: background 0.2s;
            box-shadow: 0 2px 8px #f7b73133;
        }
        .profile-logout-btn:hover {
            background: #ffe082;
        }
        @media (max-width: 600px) {
            .profile-dropdown {
                min-width: 220px;
                padding: 1.2rem 0.7rem 0.7rem 0.7rem;
            }
            .profile-title {
                font-size: 1.3rem !important;
            }
            .profile-icon-btn, #profileAvatarImg {
                width: 70px !important;
                height: 70px !important;
            }
        }

        /* Profile icon button styles */
        .profile-icon-btn {
            width: 100px;
            height: 100px;
            margin: 0 auto 0.7rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            box-shadow: 0 4px 16px #1976d233;
            background: none;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 0;
            transition: background 0.2s;
        }
        #profileAvatar {
            width: 100px;
            height: 100px;
            display: block;
        }

        /* Swiggy-like Profile Styles */
        .profile-dropdown { min-width: 340px; max-width: 95vw; }
        .profile-title { font-size: 2rem; font-family: 'Poppins', Arial, sans-serif; font-weight: 700; color: #1976d2; margin-bottom: 1.2rem; text-align: center; letter-spacing: 0.5px; }
        .profile-detail-row { display: flex; align-items: center; margin-bottom: 0.5rem; gap: 0.5rem; }
        .profile-label { min-width: 110px; color: #888; font-weight: 500; font-size: 0.98rem; display: flex; align-items: center; gap: 0.3rem; }
        .profile-value { color: #222; font-weight: 500; font-size: 1rem; word-break: break-all; }
        .profile-edit-input { flex:1; padding:0.3rem 0.5rem; border-radius:6px; border:1px solid #ccc; font-size:1rem; }
        .profile-edit-btn, .profile-save-btn, .profile-cancel-btn { width:100%; background:#1976d2; color:#fff; border:none; border-radius:8px; padding:0.5rem 0; font-weight:600; font-size:1rem; cursor:pointer; margin-top:0.7rem; transition:background 0.2s; }
        .profile-edit-btn { background:#1976d2; color:#fff; }
        .profile-edit-btn:hover { background:#1251a0; }
        .profile-save-btn { background:#2ecc71; }
        .profile-save-btn:hover { background:#27ae60; }
        .profile-cancel-btn { background:#f7b731; color:#1976d2; }
        .profile-cancel-btn:hover { background:#ffe082; }
        .profile-upload-label { margin-top:0.2rem; }

        /* More section styles */
        .profile-more-section { margin: 0.5rem 0; }
        .profile-more-item { padding: 0.6rem 0.5rem; cursor: pointer; border-radius: 6px; display: flex; align-items: center; gap: 0.7rem; font-size: 1rem; color: #1976d2; transition: background 0.2s; }
        .profile-more-item:hover { background: #f7f7fa; }

        /* Dark mode styles */
        body.dark-mode { background: #181a1b; color: #f1f1f1; }
        body.dark-mode .profile-dropdown { background: #23272b; color: #f1f1f1; box-shadow: 0 6px 24px #000a; }
        body.dark-mode .profile-title, body.dark-mode .profile-label, body.dark-mode .profile-value { color: #f1f1f1 !important; }
        body.dark-mode .profile-edit-input { background: #23272b; color: #f1f1f1; border: 1px solid #444; }
        body.dark-mode .profile-more-item { color: #f7b731; }
        body.dark-mode .profile-more-item:hover { background: #222; }
        body.dark-mode .profile-edit-btn, body.dark-mode .profile-save-btn { background: #f7b731; color: #23272b; }
        body.dark-mode .profile-cancel-btn { background: #23272b; color: #f7b731; border: 1px solid #f7b731; }
        body.dark-mode .profile-logout-btn { background: #23272b; color: #f7b731; border: 1px solid #f7b731; }
        body.dark-mode .menu-card {
            background: #23272b;
            color: #f1f1f1;
            border: 1px solid #333;
        }
        body.dark-mode .menu-card .card-title {
            color: #f7b731;
        }
        body.dark-mode .menu-card .card-description {
            color: #b0b3b8;
        }
        body.dark-mode .menu-card .card-time {
            background: #23272b;
            color: #f7b731;
            border: 1px solid #444;
        }
        body.dark-mode .card-icon {
            color: #f7b731;
        }

        /* Profile Dropdown Responsive & Professional Styles */
        .profile-dropdown {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px #0002;
            padding: 2rem 1.5rem;
            min-width: 340px;
            max-width: 95vw;
            margin-top: 1.2rem;
            transition: box-shadow 0.3s, border-radius 0.3s;
        }
        .profile-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 1.2rem;
            letter-spacing: 1px;
        }
        .profile-detail-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.7rem;
            font-size: 1.08rem;
        }
        .profile-label {
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }
        .profile-value {
            color: #222;
            font-weight: 500;
            word-break: break-all;
        }
        .profile-edit-btn, .profile-logout-btn {
            width: 100%;
            padding: 0.7rem 0;
            border-radius: 8px;
            font-size: 1.08rem;
            font-weight: 600;
            margin-top: 0.7rem;
            background: var(--secondary-color);
            color: #fff;
            border: none;
            cursor: pointer;
            transition: background 0.2s;
        }
        .profile-edit-btn:hover, .profile-logout-btn:hover {
            background: var(--accent-color);
        }
        .profile-more-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .profile-more-item {
            padding: 0.5rem 0.7rem;
            border-radius: 6px;
            cursor: pointer;
            color: #1976d2;
            font-weight: 500;
            transition: background 0.2s;
        }
        .profile-more-item:hover {
            background: #f7b73122;
        }
        .profile-avatar-row img {
            border: 3px solid #f7b731;
            box-shadow: 0 2px 12px #f7b73133;
        }
        /* Mobile Fullscreen Profile */
        @media (max-width: 600px) {
            .profile-dropdown {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                min-width: unset !important;
                max-width: unset !important;
                border-radius: 0 !important;
                margin: 0 !important;
                z-index: 2000 !important;
                box-shadow: 0 0 0 #0000 !important;
                padding: 2.5rem 1.2rem 1.2rem 1.2rem !important;
                overflow-y: auto !important;
                background: #fff !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: flex-start !important;
                align-items: stretch !important;
            }
            .profile-title {
                font-size: 2rem;
                margin-bottom: 2rem;
            }
            .profile-avatar-row img {
                width: 110px !important;
                height: 110px !important;
            }
            .profile-detail-row {
                font-size: 1.18rem;
                margin-bottom: 1.1rem;
            }
            .profile-edit-btn, .profile-logout-btn {
                font-size: 1.18rem;
                padding: 1rem 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <span class="amity-logo-fire-wrapper">
                <img src="logo.png" alt="Amity University Logo" class="amity-logo">
            </span>
            <div class="header-titles">
                <h1 class="uni-title">Amity University</h1>
                <h2 class="system-title">Bangalore Campus Cafeteria</h2>
            </div>
            <div class="header-actions">
                <!-- Swiggy-like Profile Dropdown and Edit Form -->
                <div class="header-profile" id="headerProfile" style="display:none;">
                    <button class="profile-icon-btn" id="profileIconBtn" aria-label="Profile">
                        <img id="profileAvatarImg" src="https://ui-avatars.com/api/?name=User&size=100" alt="Profile" style="width:70px;height:70px;border-radius:50%;object-fit:cover;box-shadow:0 4px 16px #1976d233;" />
                    </button>
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="profile-title">My Profile</div>
                        <div id="profileDetailsView">
                            <div class="profile-avatar-row" style="display:flex;justify-content:center;align-items:center;margin-bottom:1rem;">
                                <img id="profileAvatarImgView" src="https://ui-avatars.com/api/?name=User&size=100" alt="Profile" style="width:70px;height:70px;border-radius:50%;object-fit:cover;box-shadow:0 4px 16px #1976d233;" />
                            </div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-user"></i> Name:</span><span class="profile-value" id="profileName"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-envelope"></i> Email:</span><span class="profile-value" id="profileEmail"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-phone"></i> Phone:</span><span class="profile-value" id="profilePhone"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-venus-mars"></i> Gender:</span><span class="profile-value" id="profileGender"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-birthday-cake"></i> Birthday:</span><span class="profile-value" id="profileBirthday"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-map-marker-alt"></i> Address:</span><span class="profile-value" id="profileAddress"></span></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-user-tag"></i> Role:</span><span class="profile-value" id="profileRole"></span></div>
                            <div class="profile-detail-row" id="profileCoinsRow">
                            <span class="profile-label"><i class="fas fa-coins"></i> Coins:</span>
                            <span class="profile-value" id="profileCoins">0</span>
                            <button class="profile-add-coins-btn" id="addCoinsBtn" style="margin-left:10px;padding:3px 10px;font-size:0.95rem;background:#f7b731;color:#23272b;border:none;border-radius:5px;cursor:pointer;">Add Coins</button>
                        </div>
                            <button class="profile-edit-btn" id="profileEditBtn">Edit Profile</button>
                            <hr style="margin:1rem 0;">
                            <div class="profile-more-section">
                                <div class="profile-more-item" id="sendFeedbackBtn"><i class="fas fa-comment-dots"></i> Send Feedback</div>
                                <div class="profile-more-item" id="settingsBtn"><i class="fas fa-cog"></i> Settings</div>
                                <div class="profile-more-item" id="themeToggleBtn"><i class="fas fa-adjust"></i> <span id="themeToggleText">Dark Mode</span></div>
                            </div>
                            <hr style="margin:1rem 0;">
                            <button class="profile-logout-btn" id="profileLogoutBtn">Logout</button>
                        </div>
                        <form id="profileEditForm" style="display:none;flex-direction:column;gap:0.7rem;margin-top:0.5rem;">
                            <div class="profile-avatar-row" style="display:flex;justify-content:center;align-items:center;flex-direction:column;gap:0.5rem;">
                                <img id="profileAvatarImgEdit" src="https://ui-avatars.com/api/?name=User&size=100" alt="Profile" style="width:70px;height:70px;border-radius:50%;object-fit:cover;box-shadow:0 4px 16px #1976d233;" />
                                <label for="profilePicInput" class="profile-upload-label" style="font-size:0.95rem;color:#1976d2;cursor:pointer;">Change Photo</label>
                                <input type="file" id="profilePicInput" accept="image/*" style="display:none;">
                            </div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-user"></i> Name:</span><input type="text" id="editName" class="profile-edit-input" required></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-envelope"></i> Email:</span><input type="email" id="editEmail" class="profile-edit-input" required></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-phone"></i> Phone:</span><input type="tel" id="editPhone" class="profile-edit-input" pattern="[0-9]{10}" required></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-venus-mars"></i> Gender:</span><select id="editGender" class="profile-edit-input"><option value="">Select</option><option value="male">Male</option><option value="female">Female</option><option value="other">Other</option></select></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-birthday-cake"></i> Birthday:</span><input type="date" id="editBirthday" class="profile-edit-input"></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-map-marker-alt"></i> Address:</span><input type="text" id="editAddress" class="profile-edit-input"></div>
                            <div class="profile-detail-row"><span class="profile-label"><i class="fas fa-user-tag"></i> Role:</span><input type="text" id="editRole" class="profile-edit-input" readonly></div>
                            <div style="display:flex;gap:0.5rem;width:100%;margin-top:0.3rem;">
                                <button type="button" id="saveProfileBtn" class="profile-save-btn">Save</button>
                                <button type="button" id="cancelProfileBtn" class="profile-cancel-btn">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- End Swiggy-like Profile Dropdown -->
                <div style="height:18px;"></div>
                <button class="about-cafe-btn" id="aboutCafeBtnHeader"><i class="fas fa-info-circle"></i> About Cafeteria</button>
            </div>
        </div>
    </header>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- Student Login Modal -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('studentModal').style.display='none'">&times;</span>
            <h2 style="text-align: center; margin-bottom: 1.5rem; color: var(--primary-color);">Student Login</h2>
            <form id="studentForm">
                <div class="form-group">
                    <label for="studentName">Full Name</label>
                    <input type="text" id="studentName" required placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label for="studentPhone">Phone Number</label>
                    <input type="tel" id="studentPhone" required pattern="[0-9]{10}" maxlength="10" placeholder="Enter 10-digit number">
                </div>
                <div class="form-group">
                    <label for="studentEmail">Email <span style="color: #666; font-size: 0.9em;">(@s.amity.edu required)</span></label>
                    <input type="email" id="studentEmail" required 
                           pattern="[a-zA-Z0-9._%+-]+@s\.amity\.edu$"
                           placeholder="yourname@s.amity.edu"
                           oninvalid="this.setCustomValidity('Please enter a valid @s.amity.edu email address')"
                           oninput="this.setCustomValidity('')"
                    >
                    <small style="color: #666; display: block; margin-top: 4px;">
                        <i class="fas fa-info-circle"></i> Must be a valid Amity student email ending with @s.amity.edu
                    </small>
                </div>
                <button type="submit" class="submit-btn">Login</button>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('adminModal').style.display='none'">&times;</span>
            <h2 style="text-align: center; margin-bottom: 1.5rem; color: var(--primary-color);">Admin Login</h2>
            <form id="adminForm">
                <div class="form-group">
                    <label for="adminName">Admin Name:</label>
                    <input type="text" id="adminName" required>
                </div>
                <div class="form-group">
                    <label for="adminId">Admin ID:</label>
                    <input type="text" id="adminId" required>
                </div>
                <div class="form-group">
                    <label for="adminPhone">Phone Number:</label>
                    <input type="tel" id="adminPhone" pattern="[0-9]{10}" title="Please enter a valid 10-digit number" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
            </form>
        </div>
    </div>
<!-- End Swiggy-like Profile Dropdown -->
<div style="height:18px;"></div>
    <!-- About Modal -->
    <div id="aboutModal" class="about-modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>About Amity University Bangalore</h2>
            
            <div class="about-section">
                <h3>Overview</h3>
                <p>Amity University Bangalore is a premier educational institution committed to providing world-class education and fostering academic excellence. Established with a vision to be a leading global university, Amity Bangalore offers state-of-the-art infrastructure and innovative teaching methodologies.</p>
            </div>

            <div class="about-section">
                <h3>Vision</h3>
                <p>To be a world-class university that nurtures talent, creates knowledge, and transforms lives through innovative education, research, and holistic development of students.</p>
            </div>

            <div class="about-section">
                <h3>Campus</h3>
                <p>Our sprawling campus features modern facilities, cutting-edge laboratories, digital libraries, sports complexes, and dedicated research centers. The campus environment promotes creativity, innovation, and intellectual growth.</p>
            </div>

            <div class="about-section">
                <h3>Academic Excellence</h3>
                <p>With a diverse range of undergraduate and postgraduate programs, industry-aligned curriculum, experienced faculty, and strong industry connections, Amity University Bangalore ensures that students receive quality education that prepares them for global success.</p>
            </div>
        </div>
    </div>

    <!-- About Cafeteria Modal -->
    <div id="aboutCafeModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeAboutCafeModal">&times;</span>
            <h2 style="text-align:center; color: var(--primary-color); margin-bottom: 1rem;">About Our Cafeteria</h2>
            <ul style="font-size:1.1rem; color:#333; line-height:1.7; list-style: disc inside;">
                <li><b>Fresh & Hygienic:</b> All meals are prepared daily with fresh, high-quality ingredients and strict hygiene standards.</li>
                <li><b>Multi-cuisine:</b> Enjoy North Indian, South Indian, and Continental dishes every day.</li>
                <li><b>Student Favorites:</b> Dishes like Paneer Butter Masala, Masala Dosa, and Veg Burger are campus legends!</li>
                <li><b>Healthy Options:</b> Salads, fresh juices, and low-oil recipes are always available.</li>
                <li><b>Fun Fact:</b> The cafeteria serves over 1,000 meals and 500 cups of chai daily!</li>
                <li><b>Special Days:</b> Don’t miss the Friday “Chef’s Special” and festival-themed menus.</li>
            </ul>
            <button class="submit-btn" id="closeAboutCafeBtn" style="width: 100%;">Close</button>
        </div>
    </div>
    
    <!-- Feedback Modal -->
    <div id="feedbackModal" class="modal">
      <div class="modal-content" style="max-width:500px;">
        <span class="close" id="closeFeedbackModal">&times;</span>
        <h2 style="text-align:center;color:var(--primary-color);margin-bottom:1rem;">We Value Your Feedback!</h2>
        <form id="feedbackForm">
          <div class="form-group">
            <label>1. What is your most favourite dish in our cafeteria?</label>
            <input type="text" id="favDish" required>
          </div>
          <div class="form-group">
            <label>2. How would you rate the cleanliness of the cafeteria?</label>
            <select id="cleanliness" required>
              <option value="">Select</option>
              <option value="Excellent">Excellent</option>
              <option value="Good">Good</option>
              <option value="Average">Average</option>
              <option value="Poor">Poor</option>
            </select>
          </div>
          <div class="form-group">
            <label>3. How satisfied are you with the variety of food options?</label>
            <select id="variety" required>
              <option value="">Select</option>
              <option value="Very Satisfied">Very Satisfied</option>
              <option value="Satisfied">Satisfied</option>
              <option value="Neutral">Neutral</option>
              <option value="Dissatisfied">Dissatisfied</option>
            </select>
          </div>
          <div class="form-group">
            <label>4. How do you find the pricing of the food items?</label>
            <select id="pricing" required>
              <option value="">Select</option>
              <option value="Very Reasonable">Very Reasonable</option>
              <option value="Reasonable">Reasonable</option>
              <option value="Expensive">Expensive</option>
            </select>
          </div>
          <div class="form-group">
            <label>5. Would you recommend our cafeteria to others?</label>
            <select id="recommend" required>
              <option value="">Select</option>
              <option value="Yes">Yes</option>
              <option value="Maybe">Maybe</option>
              <option value="No">No</option>
            </select>
          </div>
          <div class="form-group">
            <label>Anything else you'd like to share? (Your own words)</label>
            <textarea id="ownWords" rows="3" style="width:100%;border-radius:8px;padding:0.7rem;border:1px solid #ddd;"></textarea>
          </div>
          <button type="submit" class="submit-btn">Submit Feedback</button>
        </form>
      </div>
    </div>
    
    <!-- Add Coins Modal -->
    <div id="addCoinsModal" class="modal" style="display:none;position:fixed;z-index:9999;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.4);align-items:center;justify-content:center;">
      <div class="modal-content" style="background:#fff;padding:2rem 1.5rem;border-radius:12px;max-width:350px;width:90%;box-shadow:0 8px 32px #0005;position:relative;">
        <span class="close" id="closeAddCoinsModal" style="position:absolute;top:10px;right:18px;font-size:1.5rem;cursor:pointer;">&times;</span>
        <h3 style="margin-bottom:1rem;color:#f7b731;text-align:center;">Add Coins</h3>
        <div id="addCoinsStep1">
          <label for="addCoinsPhone">Enter Mobile Number</label>
          <input type="tel" id="addCoinsPhone" maxlength="10" pattern="[0-9]{10}" style="width:100%;margin-bottom:0.7rem;padding:0.5rem;border-radius:6px;border:1px solid #ccc;">
          <button id="sendOtpBtn" style="width:100%;background:#f7b731;color:#23272b;padding:0.6rem 0;border:none;border-radius:6px;font-weight:600;">Send OTP</button>
        </div>
        <div id="addCoinsStep2" style="display:none;">
          <label for="addCoinsOtp">Enter OTP</label>
          <input type="text" id="addCoinsOtp" maxlength="6" pattern="[0-9]{6}" style="width:100%;margin-bottom:0.7rem;padding:0.5rem;border-radius:6px;border:1px solid #ccc;">
          <button id="verifyOtpBtn" style="width:100%;background:#f7b731;color:#23272b;padding:0.6rem 0;border:none;border-radius:6px;font-weight:600;">Verify OTP</button>
        </div>
        <div id="addCoinsStep3" style="display:none;">
          <label for="addCoinsAmount">Enter Amount to Add</label>
          <input type="number" id="addCoinsAmount" min="1" style="width:100%;margin-bottom:0.7rem;padding:0.5rem;border-radius:6px;border:1px solid #ccc;">
          <button id="addCoinsFinalBtn" style="width:100%;background:#f7b731;color:#23272b;padding:0.6rem 0;border:none;border-radius:6px;font-weight:600;">Add Coins</button>
        </div>
        <div id="addCoinsMessage" style="margin-top:1rem;text-align:center;color:#e74c3c;font-weight:500;"></div>
      </div>
    </div>

    <main>
        <div class="welcome-section">
            <h2>Welcome to Our Cafeteria</h2>
            <p class="welcome-description">Experience delicious, fresh meals prepared daily by our skilled kitchen team. From hearty breakfast options to satisfying lunch meals and quick snacks, we've got something for everyone in the Amity community.</p>
            <div class="login-buttons">
                <button class="login-btn student-btn" onclick="openStudentModal()">Student Login</button>
                <button class="login-btn admin-btn" onclick="openAdminModal()">Admin Login</button>
            </div>
        </div>
        
        <div class="menu-grid" style="display: none;">
            <a href="breakfast1.html" class="menu-card breakfast-card">
                <div class="card-image">
                    <i class="fas fa-coffee card-icon"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Breakfast</h3>
                    <p class="card-description">Start your day right with our fresh breakfast selections. Traditional Indian breakfast, continental options, and freshly brewed coffee to energize your morning.</p>
                    <span class="card-time">Available: 8:00 AM - 11:00 AM</span>
                </div>
            </a>

            <a href="Lunchnew1.html" class="menu-card lunch-card">
                <div class="card-image">
                    <i class="fas fa-utensils card-icon"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Lunch</h3>
                    <p class="card-description">Nutritious and filling lunch meals featuring a variety of cuisines. From traditional thali to international dishes, enjoy a proper meal during your break.</p>
                    <span class="card-time">Available: 12:00 PM - 3:00 PM</span>
                </div>
            </a>

            <a href="SnacksNew1.html" class="menu-card snacks-card">
                <div class="card-image">
                    <i class="fas fa-hamburger card-icon"></i>
                </div>
                <div class="card-content">
                    <h3 class="card-title">Snacks</h3>
                    <p class="card-description">Quick bites, street food, and sweet treats for every craving.<br>
                    Enjoy samosas, burgers, momos, and more, freshly made and always tasty.<br>
                    Perfect for a quick break or sharing with friends at any time of day.</p>
                    <span class="card-time">Available: All Day</span>
                </div>
            </a>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="social-links">
                <a href="https://www.instagram.com/amityunibengaluru_official?igsh=aXcyY28zcm40NGlt" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://www.facebook.com/share/16bdeuMTUK/" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="https://x.com/AmityBengaluru" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://youtube.com/@amityuniversity3146?feature=shared" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
            <p class="footer-text">Amity University Bangalore Campus</p>
            <p class="footer-text">© 2025 Amity Cafeteria. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Get modals and forms
        const studentModal = document.getElementById('studentModal');
        const adminModal = document.getElementById('adminModal');
        const aboutModal = document.getElementById('aboutModal');
        const aboutCafeModal = document.getElementById('aboutCafeModal');
        const studentForm = document.getElementById('studentForm');
        const adminForm = document.getElementById('adminForm');
        
        // Get close buttons
        const studentCloseBtn = studentModal.querySelector('.close');
        const adminCloseBtn = adminModal.querySelector('.close');
        const aboutCloseBtn = aboutModal.querySelector('.close');
        const closeAboutCafeBtn = document.getElementById('closeAboutCafeBtn');
        const closeFeedbackModal = document.getElementById('closeFeedbackModal');
        const closeAddCoinsModal = document.getElementById('closeAddCoinsModal');

        // Modal functions
        function openStudentModal() {
            studentModal.style.display = 'block';
        }

        function openAdminModal() {
            adminModal.style.display = 'block';
        }

        function openAboutModal() {
            document.getElementById('aboutModal').style.display = 'block';
        }

        function openAboutCafeModal() {
            aboutCafeModal.style.display = 'block';
        }

        function closeAboutModal() {
            document.getElementById('aboutModal').style.display = 'none';
        }

        function closeAboutCafeModal() {
            aboutCafeModal.style.display = 'none';
        }

        function showNotification(message, isError = false) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification' + (isError ? ' error' : '');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function capitalizeWords(str) {
            return str.replace(/\b\w/g, c => c.toUpperCase());
        }
        function showMenuItems(name) {
            document.querySelector('.welcome-description').style.display = 'none';
            document.querySelector('.login-buttons').style.display = 'none';            document.querySelector('.menu-grid').style.display = 'grid';
            // Remove old logout button, show nothing here
            const welcomeSection = document.querySelector('.welcome-section');
            welcomeSection.innerHTML = `
                <h2>Welcome, ${name}!</h2>
                <p>Please select from our menu options below</p>
                <div style="margin-top: 15px; padding: 10px; background-color: #fef9e7; border-radius: 8px; border: 1px solid #f7b731; text-align: center;">
                    <i class="fas fa-coins" style="color: #f7b731; margin-right: 8px;"></i>
                    <span style="color: #1a3a6e; font-weight: 600;">Add coins to your profile for exclusive rewards and faster checkouts!</span>
                </div>
            `;
            document.querySelector('.menu-grid').scrollIntoView({ behavior: 'smooth' });
            showNotification('Welcome ' + name + '! You can now access the menu.');
            // Show profile icon
            document.getElementById('headerProfile').style.display = 'flex';
            // Fill profile details
            let user = JSON.parse(localStorage.getItem('studentData')) || JSON.parse(localStorage.getItem('adminData'));
            document.getElementById('profileName').textContent = capitalizeWords(user.name || '-');
            document.getElementById('profilePhone').textContent = user.phone || '-';
            document.getElementById('profileEmail').textContent = user.email ? user.email : '-';
            document.getElementById('profileBirthday').textContent = user.birthday || '-';
            document.getElementById('profileRole').textContent = user.type === 'admin' ? 'Admin' : 'Student';
            document.getElementById('profileAddress').textContent = capitalizeWords(user.address || '-');
            document.getElementById('profileGender').textContent = capitalizeWords(user.gender || '-');
            // Set profile image
            const img = document.getElementById('profileAvatarImg');
            if(user.profilePic) {
                img.src = user.profilePic;
            } else {
                img.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name||'User')}&size=70`;
            }
            // Hide edit form, show details view
            document.getElementById('profileDetailsView').style.display = '';
            document.getElementById('profileEditForm').style.display = 'none';
        }

        function logout() {
            localStorage.removeItem('studentData');
            localStorage.removeItem('adminData');
            location.reload();
        }

        // Close modal events
        studentCloseBtn.onclick = () => studentModal.style.display = 'none';
        adminCloseBtn.onclick = () => adminModal.style.display = 'none';
        aboutCloseBtn.onclick = () => aboutModal.style.display = 'none';
        closeAboutCafeBtn.onclick = () => closeAboutCafeModal();
        closeFeedbackModal.onclick = () => document.getElementById('feedbackModal').style.display = 'none';
        closeAddCoinsModal.onclick = () => document.getElementById('addCoinsModal').style.display = 'none';

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target == studentModal) {
                studentModal.style.display = 'none';
            }
            if (event.target == adminModal) {
                adminModal.style.display = 'none';
            }
            const modal = document.getElementById('aboutModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
            const feedbackModal = document.getElementById('feedbackModal');
            if (event.target == feedbackModal) {
                feedbackModal.style.display = 'none';
            }
            const addCoinsModal = document.getElementById('addCoinsModal');
            if (event.target == addCoinsModal) {
                addCoinsModal.style.display = 'none';
            }
            if (event.target == aboutCafeModal) {
                aboutCafeModal.style.display = 'none';
            }
        }

        // Handle student form submission
        studentForm.onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('studentName').value;
            const phone = document.getElementById('studentPhone').value;
            const email = document.getElementById('studentEmail').value;

            // Validate student email domain
            if (!email.endsWith('@s.amity.edu')) {
                showNotification('Please use your Amity student email (@s.amity.edu)', true);
                return;
            }

            localStorage.setItem('studentData', JSON.stringify({
                name: name,
                phone: phone,
                email: email,
                type: 'student'
            }));
            studentModal.style.display = 'none';
            showMenuItems(name);
        };

        // Handle admin form submission
        adminForm.onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('adminName').value;
            const adminId = document.getElementById('adminId').value;
            const phone = document.getElementById('adminPhone').value;
            localStorage.setItem('adminData', JSON.stringify({
                name: name,
                adminId: adminId,
                phone: phone,
                type: 'admin'
            }));

            adminModal.style.display = 'none';
            showMenuItems(name);
        };

        // Swiggy-like Profile Dropdown Logic
        const profileIconBtn = document.getElementById('profileIconBtn');
        const profileDropdown = document.getElementById('profileDropdown');
        profileIconBtn.onclick = function(e) {
          e.stopPropagation();
          profileDropdown.style.display = (profileDropdown.style.display === 'block') ? 'none' : 'block';
        };
        document.addEventListener('click', function(e) {
          if (!profileDropdown.contains(e.target) && e.target !== profileIconBtn) {
            profileDropdown.style.display = 'none';
          }
        });

        function loadProfileData() {
          const user = JSON.parse(localStorage.getItem('studentData')) || JSON.parse(localStorage.getItem('adminData'));
          if (!user) return;
          document.getElementById('profileName').textContent = user.name || '';
          document.getElementById('profileEmail').textContent = user.email || user.adminId || '';
          document.getElementById('profilePhone').textContent = user.phone || '';
          document.getElementById('profileGender').textContent = user.gender || '';
          document.getElementById('profileBirthday').textContent = user.birthday || '';
          document.getElementById('profileAddress').textContent = user.address || '';
          document.getElementById('profileRole').textContent = user.type || '';
          document.getElementById('profileAvatarImgView').src = user.profilePic || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(user.name || 'User') + '&size=100';
          document.getElementById('profileAvatarImg').src = user.profilePic || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(user.name || 'User') + '&size=100';
        }

        profileEditBtn.onclick = function() {
          const user = JSON.parse(localStorage.getItem('studentData')) || JSON.parse(localStorage.getItem('adminData'));
          document.getElementById('editName').value = user.name || '';
          document.getElementById('editEmail').value = user.email || user.adminId || '';
          document.getElementById('editPhone').value = user.phone || '';
          document.getElementById('editGender').value = user.gender || '';
          document.getElementById('editBirthday').value = user.birthday || '';
          document.getElementById('editAddress').value = user.address || '';
          document.getElementById('editRole').value = user.type || '';
          document.getElementById('profileAvatarImgEdit').src = user.profilePic || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(user.name || 'User') + '&size=100';
          profileDetailsView.style.display = 'none';
          profileEditForm.style.display = 'flex';
        };

        // Profile picture upload in edit mode
        const profilePicInput = document.getElementById('profilePicInput');
        const profileAvatarImgEdit = document.getElementById('profileAvatarImgEdit');
        document.querySelector('.profile-upload-label').onclick = () => profilePicInput.click();
        profilePicInput.onchange = function(e) {
          const file = e.target.files[0];
          if(file) {
            const reader = new FileReader();
            reader.onload = function(evt) {
              profileAvatarImgEdit.src = evt.target.result;
              profileAvatarImg.src = evt.target.result;
            };
            reader.readAsDataURL(file);
          }
        };

        saveProfileBtn.onclick = function() {
          let user = JSON.parse(localStorage.getItem('studentData')) || JSON.parse(localStorage.getItem('adminData'));
          user.name = document.getElementById('editName').value;
          user.email = document.getElementById('editEmail').value;
          user.phone = document.getElementById('editPhone').value;
          user.gender = document.getElementById('editGender').value;
          user.birthday = document.getElementById('editBirthday').value;
          user.address = document.getElementById('editAddress').value;
          user.type = document.getElementById('editRole').value;
          user.profilePic = profileAvatarImgEdit.src;
          if(user.type === 'student') localStorage.setItem('studentData', JSON.stringify(user));
          else localStorage.setItem('adminData', JSON.stringify(user));
          loadProfileData();
          profileDetailsView.style.display = '';
          profileEditForm.style.display = 'none';
          showNotification('Profile updated successfully!');
        };

        cancelProfileBtn.onclick = function() {
          profileDetailsView.style.display = '';
          profileEditForm.style.display = 'none';
        };

        // Theme toggle logic
        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const themeToggleText = document.getElementById('themeToggleText');
        function setTheme(mode) {
          if (mode === 'dark') {
            document.body.classList.add('dark-mode');
            themeToggleText.textContent = 'Light Mode';
            localStorage.setItem('theme', 'dark');
          } else {
            document.body.classList.remove('dark-mode');
            themeToggleText.textContent = 'Dark Mode';
            localStorage.setItem('theme', 'light');
          }
        }
        themeToggleBtn.onclick = function() {
          const isDark = document.body.classList.contains('dark-mode');
          setTheme(isDark ? 'light' : 'dark');
        };
        window.onload = function() {
          loadProfileData();
          const savedTheme = localStorage.getItem('theme') || 'light';
          setTheme(savedTheme);
          // Check if user is already logged in when page loads
          const studentData = JSON.parse(localStorage.getItem('studentData'));
          const adminData = JSON.parse(localStorage.getItem('adminData'));
          
          if (studentData || adminData) {
              const userData = studentData || adminData;
              showMenuItems(userData.name);
          }
        };

        // Feedback and settings (demo)
        document.getElementById('sendFeedbackBtn').onclick = function() {
          alert('Feedback form coming soon!');
        };
        document.getElementById('settingsBtn').onclick = function() {
          alert('Settings page coming soon!');
        };

        // About Cafeteria button in header
        document.getElementById('aboutCafeBtnHeader').onclick = function() {
            openAboutCafeModal();
        }

        // About Cafeteria Modal logic for header button
        var aboutCafeBtnHeader = document.getElementById('aboutCafeBtnHeader');
        var aboutCafeModalHeader = document.getElementById('aboutCafeModal');
        var closeAboutCafeModalHeader = document.getElementById('closeAboutCafeModal');
        var closeAboutCafeBtnHeader = document.getElementById('closeAboutCafeBtn');

        aboutCafeBtnHeader.onclick = function() {
            aboutCafeModalHeader.style.display = 'block';
        };
        closeAboutCafeModalHeader.onclick = closeAboutCafeBtnHeader.onclick = function() {
            aboutCafeModalHeader.style.display = 'none';
        }

        // Profile icon dropdown logic
        const profileLogoutBtn = document.getElementById('profileLogoutBtn');
        let profileDropdownOpen = false;
        profileIconBtn.onclick = function(e) {
            e.stopPropagation();
            profileDropdown.style.display = profileDropdownOpen ? 'none' : 'block';
            profileDropdownOpen = !profileDropdownOpen;
        };        profileLogoutBtn.onclick = function() {
            localStorage.removeItem('studentData');
            localStorage.removeItem('adminData');
            localStorage.removeItem('profileCoins'); // Reset coins on logout
            location.reload();
        };
        // Hide dropdown on outside click
        document.addEventListener('click', function(e) {
            if (profileDropdownOpen && !profileDropdown.contains(e.target) && e.target !== profileIconBtn) {
                profileDropdown.style.display = 'none';
                profileDropdownOpen = false;
            }
        });
        // Hide on resize
        window.addEventListener('resize', function() {
            profileDropdown.style.display = 'none';
            profileDropdownOpen = false;
        });

        // Feedback modal logic
        const feedbackModal = document.getElementById('feedbackModal');
        document.getElementById('sendFeedbackBtn').onclick = function() {
          feedbackModal.style.display = 'block';
        };
        closeFeedbackModal.onclick = function() {
          feedbackModal.style.display = 'none';
        };
        window.onclick = function(event) {
          if (event.target === feedbackModal) feedbackModal.style.display = 'none';
        };
        document.getElementById('feedbackForm').onsubmit = function(e) {
          e.preventDefault();
          // Collect feedback
          const feedback = {
            favDish: document.getElementById('favDish').value,
            cleanliness: document.getElementById('cleanliness').value,
            variety: document.getElementById('variety').value,
            pricing: document.getElementById('pricing').value,
            recommend: document.getElementById('recommend').value,
            ownWords: document.getElementById('ownWords').value
          };
          // You can send this to a server or store in localStorage
          console.log('Feedback submitted:', feedback);
          feedbackModal.style.display = 'none';
          showNotification('Thank you for your feedback!');
          document.getElementById('feedbackForm').reset();
        };

        // --- Add Coins Modal Logic ---
        let coins = parseInt(localStorage.getItem('profileCoins') || '0');
        const profileCoins = document.getElementById('profileCoins');
        function updateCoinsDisplay() {
            profileCoins.textContent = coins;
        }
        updateCoinsDisplay();

        const addCoinsBtn = document.getElementById('addCoinsBtn');
        let generatedOtp = '';
        let verifiedMobile = '';

        addCoinsBtn.onclick = function() {
            document.getElementById('addCoinsModal').style.display = 'flex';
            document.getElementById('addCoinsStep1').style.display = '';
            document.getElementById('addCoinsStep2').style.display = 'none';
            document.getElementById('addCoinsStep3').style.display = 'none';
            document.getElementById('addCoinsPhone').value = '';
            document.getElementById('addCoinsOtp').value = '';
            document.getElementById('addCoinsAmount').value = '';
            document.getElementById('addCoinsMessage').textContent = '';
        };
               sendOtpBtn.onclick = function() {
            const phone = document.getElementById('addCoinsPhone').value.trim();
            if (!/^\d{10}$/.test(phone)) {
                addCoinsMessage.textContent = 'Please enter a valid 10-digit mobile number.';
                return;
            }
            generatedOtp = (Math.floor(100000 + Math.random() * 900000)).toString();
            // Show OTP above the OTP input for 2 minutes
            const otpDisplay = document.createElement('div');
            otpDisplay.id = 'otpDisplay';
            otpDisplay.style = 'margin-bottom:10px;color:#2980b9;font-weight:600;font-size:1.1rem;text-align:center;';
            otpDisplay.textContent = 'Your OTP: ' + generatedOtp + ' (valid for 2 minutes)';
            addCoinsStep2.insertBefore(otpDisplay, addCoinsStep2.firstChild);
            addCoinsMessage.textContent = 'OTP sent to ' + phone + '. Please enter the OTP below.';
            setTimeout(() => {
                addCoinsStep1.style.display = 'none';
                addCoinsStep2.style.display = '';
                addCoinsMessage.textContent = '';
                // Remove OTP after 2 minutes
                setTimeout(() => {
                    if (document.getElementById('otpDisplay')) {


                        document.getElementById('otpDisplay').textContent = 'OTP expired. Please request a new OTP.';
                    }
                }, 120000);
            }, 1500);
        };
        verifyOtpBtn.onclick = function() {
            const otp = document.getElementById('addCoinsOtp').value.trim();
            if (otp === generatedOtp) {
                addCoinsStep2.style.display = 'none';
                addCoinsStep3.style.display = '';
                verifiedMobile = document.getElementById('addCoinsPhone').value.trim();
                addCoinsMessage.textContent = 'Verified successfully! Please enter the amount to add.';
                setTimeout(() => { addCoinsMessage.textContent = ''; }, 1500);
            } else {
                addCoinsMessage.textContent = 'Invalid OTP. Please try again.';
            }
        };
        addCoinsFinalBtn.onclick = function() {
            const amount = parseInt(document.getElementById('addCoinsAmount').value);
            if (isNaN(amount) || amount < 1) {
                addCoinsMessage.textContent = 'Please enter a valid amount.';
                return;
            }
            if (coins + amount > 5000) {
                addCoinsMessage.textContent = 'Coin limit reached. You cannot have more than 5000 coins.';
                return;
            }
            coins += amount;
            localStorage.setItem('profileCoins', coins);
            updateCoinsDisplay();
            addCoinsStep3.style.display = 'none';
            addCoinsMessage.textContent = 'Coins added successfully!';
            setTimeout(() => {
                addCoinsModal.style.display = 'none';
                addCoinsMessage.textContent = '';
            }, 1800);
        };
        // Close modal on outside click
        window.addEventListener('click', function(e) {
            if (e.target === addCoinsModal) addCoinsModal.style.display = 'none';
        });
        // --- End Add Coins Modal Logic ---
    </script>
</body>
</html>
